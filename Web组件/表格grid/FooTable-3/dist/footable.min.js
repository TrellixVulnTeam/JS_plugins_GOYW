(function(t,e){window.console=window.console||{log:function(){},error:function(){}},t.fn.footable=function(t,n){return t=t||{},this.filter("table").each(function(i,o){e.exists(o)?e.get(o).reinit(t,n):e.init(o,t,n)})},e.registered=[],e.register=function(t){if(!e.is.fn(t))throw new TypeError("The component parameter must be a pointer to a class that inherits from FooTable.Component.");e.registered.push(t)};var n=t("<div/>");e.json2css=function(t){return n.removeAttr("style").css(t).get(0).style.cssText},e.getURLParameter=function(t,e){return decodeURIComponent((RegExp("[?|&]"+t+"="+"([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||e},e.exists=function(t){return e.get(t)instanceof e.Instance},e.get=function(e){return t(e).eq(0).data("__FooTable__")},e.init=function(n,i,o){var r=t(n).eq(0),a=new e.Instance(r.get(0),i,o);return r.data("__FooTable__",a),a},e.ExitEarly=function(t){return this instanceof e.ExitEarly?(this.name="EarlyExit",this.message=t||"Used to exit early from chained jQuery.Deferred without outputting anything to the console.",void 0):new e.ExitEarly(t)},e.ExitEarly.prototype=Error(),e.ExitEarly.prototype.constructor=e.ExitEarly,e.isMobile=function(t){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera)})(jQuery,FooTable=window.FooTable||{}),function(t){t.is={},t.is.type=function(t,e){return typeof t===e},t.is.defined=function(t){return t!==void 0},t.is.undef=function(t){return t===void 0},t.is.array=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.is.boolean=function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},t.is.fn=function(t){var e="undefined"!=typeof window&&t===window.alert;return e||"[object Function]"===Object.prototype.toString.call(t)},t.is.object=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.is.hash=function(e){return t.is.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},t.is.element=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.is.selector=function(t){try{return document.querySelector(t),!0}catch(e){return!1}},t.is.html=function(t){try{return/<(br|basefont|hr|input|source|frame|param|area|meta|!--|col|link|option|base|img|wbr|!DOCTYPE).*?>|<(a|abbr|acronym|address|applet|article|aside|audio|b|bdi|bdo|big|blockquote|body|button|canvas|caption|center|cite|code|colgroup|command|datalist|dd|del|details|dfn|dialog|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frameset|head|header|hgroup|h1|h2|h3|h4|h5|h6|html|i|iframe|ins|kbd|keygen|label|legend|li|map|mark|menu|meter|nav|noframes|noscript|object|ol|optgroup|output|p|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|tt|u|ul|var|video).*?<\/\2>/i.test(t)}catch(e){return!1}},t.is.any=function(e,n){if(t.is.array(n)){for(var i=n.length+1;i-=1;)if(n[i-1]===e)return!0}else if(t.is.object(n))return e in n;return!1}}(FooTable=window.FooTable||{}),function(t,e){e.strings={format:function(){var t,e,n=arguments[0];for(t=0;arguments.length-1>t;t++)e=RegExp("\\{"+t+"\\}","gm"),n=n.replace(e,arguments[t+1]);return n},isNullOrEmpty:function(t){return null==t||"string"!=typeof t||0==t.length},join:function(t){var e=Array.prototype.slice.call(arguments);return t=e.shift(),e.join(t)},contains:function(t,e){return"string"==typeof t&&t.length>0&&"string"==typeof e&&e.length>0&&e.length<=t.length&&-1!==t.indexOf(e)},from:function(t,e){return this.contains(t,e)?t.substring(t.indexOf(e)+1):t},until:function(t,e){return this.contains(t,e)?t.substring(0,t.indexOf(e)):t},endsWith:function(t,e){return t.slice(-e.length)==e},startsWith:function(t,e){return t.slice(0,e.length)==e},slugify:function(t){return"string"!=typeof t?"":t.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}}}(jQuery,FooTable=window.FooTable||{}),function(t){"use strict";function e(){}t.is.fn(Object.create)||(Object.create=function(){var e=function(){};return function(n){if(arguments.length>1)throw Error("Second argument not supported");if(!t.is.object(n))throw TypeError("Argument must be an object");e.prototype=n;var i=new e;return e.prototype=null,i}}());var n=/xyz/.test(function(){})?/\b_super\b/:/.*/;e.extend=function(i){var o=this.prototype,r=Object.create(o);for(var a in i)r[a]=t.is.fn(i[a])&&t.is.fn(o[a])&&n.test(i[a])?function(t,e){return function(){var n=this._super;this._super=o[t];var i=e.apply(this,arguments);return this._super=n,i}}(a,i[a]):i[a];var s=t.is.fn(r.ctor)?r.ctor:function(){};return s.prototype=r,r.constructor=s,s.extend=e.extend,s},t.Class=e}(FooTable=window.FooTable||{}),function(t,e){e.Component=e.Class.extend({ctor:function(t){if(!(t instanceof e.Instance))throw new TypeError("The instance parameter must be an instance of FooTable.Instance.");this.ft=t},ctor_cell:function(){},ctor_column:function(){},ctor_row:function(){},preinit:function(){},init:function(){},reinit:function(){},destroy:function(){},preajax:function(){},postajax:function(){},predraw:function(){},draw:function(){},postdraw:function(){}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Defaults=function(){this.ajaxEnabled=!1,this.ajax=t.when(),this.stopPropagation=!0,this.namespace=null,this.on=null},e.defaults=new e.Defaults}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Breakpoint=e.Class.extend({ctor:function(t,e){this.name=t,this.width=e}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Cell=e.Class.extend({ctor:function(n,i,o,r,a){this.ft=n,this.row=i,this.$el=t(o),this.column=r,this.value=a,this.display=e.is.fn(r.formatter)?r.formatter(a):a,this.ft.execute("ctor_cell",this),this.$el.html(this.display)}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Column=e.Class.extend({ctor:function(n,i,o){this.ft=n,this.$el=t(i),this.index=e.is.type(o.index,"number")?o.index:-1,this.hidden=e.is.boolean(o.hidden)?o.hidden:!1,this.visible=e.is.boolean(o.visible)?o.visible:!0,this.parser=e.is.fn(o.parser)?o.parser:t.noop,this.ellipsis=e.is.boolean(o.ellipsis)?o.ellipsis:!1,this.formatter=e.is.fn(o.formatter)?o.formatter:null,this.maxWidth=e.is.type(o.maxWidth,"number")?o.maxWidth:null,this.minWidth=e.is.type(o.minWidth,"number")?o.minWidth:null,this.name=e.is.type(o.name,"string")?o.name:null,this.pk=e.is.boolean(o.pk)?o.pk:!1,this.title=e.is.type(o.title,"string")?o.title:null,this.type=e.is.type(o.type,"string")?o.type:"text",this.width=e.is.type(o.width,"number")?o.width:null,this.wrap=e.is.boolean(o.wrap)?o.wrap:!1,this.ft.execute("ctor_column",this,o),this.$el.html(this.title)}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Row=e.Class.extend({ctor:function(e,n,i){this.ft=e,this.$el=t(n),this.columns=i,this.cells=[],this.ft.execute("ctor_row",this),this.$el.data("__FooTableRow__",this)}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Filter=e.Class.extend({ctor:function(t,e){this.query=t,this.columns=e}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Sorter=e.Class.extend({ctor:function(t,e){this.column=t,this.direction=e}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Pager=e.Class.extend({ctor:function(t,e){this.page=t,this.forward=e}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.instances=[],e.Instance=e.Class.extend({ctor:function(n,i,o){var r=this;this._resizeTimeout=null,this.id=e.instances.push(r),this.initialized=!1,this.$table=t(n),this.$styles=t("<style/>",{type:"text/css"}).appendTo("head"),this.$loader=null,this.options=t.extend(!0,{},e.defaults,i),this.breakpoints=new e.Breakpoints(r),this.columns=new e.Columns(r),this.rows=new e.Rows(r),this.components={internal:[r.breakpoints,r.columns,r.rows],core:[new e.Filtering(r),new e.Sorting(r),new e.Paging(r)],custom:[]},t.each(e.registered,function(t,e){r.components.custom.push(new e(r))}),r._init(n,r.options,o)},_init:function(n,i,o){var r=this;o=e.is.fn(o)?o:t.noop,e.is.hash(i.on)&&r.$table.on(i.on),r.$table.addClass("footable-"+r.id),r.when(!1,!0,"preinit",n,i).then(function(){if(r.raise("preinit").isDefaultPrevented())throw e.ExitEarly;return r.when(!1,!0,"init",n,i).then(function(){r.$loader=t("<tr/>",{"class":"footable-loader"}).append(t("<td/>").attr("colspan",r.columns.colspan()).append(t("<span/>",{"class":"glyphicon glyphicon-repeat"}))),r.initialized=!0,r.raise("init"),o.call(r,r)})}).then(function(){r.update(),t(window).off("resize",r._onWindowResize).on("resize",{self:r},r._onWindowResize)},function(t){t instanceof e.ExitEarly||console.error(t)})},reinit:function(n,i){var o=this;return i=e.is.fn(i)?i:t.noop,o.initialized=!1,o.$loader.remove(),o.clearCSSRules(),e.is.hash(o.options.on)&&o.$table.off(o.options.on),t.extend(!0,o.options,n),e.is.hash(n.on)&&o.$table.on(o.options.on),o.$table.addClass("footable-"+o.id),o.when(!1,!0,"reinit",o.options).then(function(){o.$loader=t("<tr/>",{"class":"footable-loader"}).append(t("<td/>").attr("colspan",o.columns.colspan()).append(t("<span/>",{"class":"glyphicon glyphicon-repeat"}))),o.initialized=!0,o.raise("reinit"),i.call(o,o)}).then(function(){o.update(),t(window).off("resize",o._onWindowResize).on("resize",{self:o},o._onWindowResize)},function(t){console.error(t)})},destroy:function(){var t=this;return t.when(!0,!1,"destroy").then(function(){t.clearCSSRules(),t.raise("destroy"),e.is.hash(t.options.on)&&t.$table.off(t.options.on)})},raise:function(n,i){i=i||[],i.unshift(this),e.strings.isNullOrEmpty(this.options.namespace)||e.strings.contains(n,".")||(n=e.strings.join(".",n,this.options.namespace));var o=t.Event(n);return 1==this.options.stopPropagation&&this.$table.one(n,function(t){t.stopPropagation()}),this.$table.trigger(o,i),o},use:function(t){for(var e=this.components.internal.concat(this.components.core,this.components.custom),n=0,i=e.length;i>n;n++)if(e[n]instanceof t)return e[n];return null},update:function(){var t=this;return 1==t.options.ajaxEnabled?t.ajax().then(function(){return t.draw()},function(t){console.error(t)}):t.draw()},ajax:function(){var t=this,n=new e.RequestData,i=t.$table.children("thead").children("tr.footable-header"),o=t.$table.children("tbody"),r=o.height();return r=r>0?i.height()+r:150,t.$loader.children("td").height(r),i.hide(),o.children("tr").detach(),o.append(t.$loader),t.when(!1,!1,"preajax",n).then(function(){if(t.raise("preajax",[n]).isDefaultPrevented())throw e.ExitEarly;return t.options.ajax(n).then(function(e){return t.when(!1,!1,"postajax",e).then(function(){t.raise("postajax",[e]),t.$table.children("thead").children("tr.footable-header").show(),t.$loader.detach()})})})},draw:function(){var t=this;return t.when(!1,!0,"predraw").then(function(){if(t.raise("predraw").isDefaultPrevented())throw e.ExitEarly;return t.when(!1,!0,"draw").then(function(){if(t.$loader.children("td").attr("colspan",t.columns.colspan()),t.raise("draw").isDefaultPrevented())throw e.ExitEarly;return t.when(!1,!0,"postdraw").then(function(){t.$loader.children("td").attr("colspan",t.columns.colspan()),t.raise("postdraw")})})})},execute:function(n){var i=this,o=Array.prototype.slice.call(arguments),r=i.components.internal.concat(i.components.core,i.components.custom);n=o.shift(),t.each(r,function(t,i){e.is.fn(i[n])&&i[n].apply(i,o)})},when:function(t,e){var n=this,i=Array.prototype.slice.call(arguments);t=i.shift(),e=i.shift();var o=e?n._chain:n._when;return i.unshift(t?n.components.custom.slice(0).reverse():n.components.internal.slice(0)),o.apply(n,i).then(function(){return i.shift(),i.unshift(t?n.components.core.slice(0).reverse():n.components.core.slice(0)),o.apply(n,i).then(function(){return i.shift(),i.unshift(t?n.components.internal.slice(0).reverse():n.components.custom.slice(0)),o.apply(n,i)})})},clearCSSRules:function(){this.$styles.html("")},addCSSRule:function(t,e){var n=this.$styles.get(0),i=n.styleSheet||n.sheet;i.insertRule?i.insertRule(t+" { "+e+" }",i.cssRules.length):i.addRule(t,e,-1)},_when:function(n,i){if(!n||!n.length)return t.when();var o=Array.prototype.slice.call(arguments),r=[];return n=o.shift(),i=o.shift(),t.each(n,function(t,n){e.is.fn(n[i])&&r.push(n[i].apply(n,o))}),t.when.apply(t,r)},_chain:function(e,n,i,o){if(!e||!e.length)return t.when();var r,a=this,s=Array.prototype.slice.call(arguments);return e=s.shift(),n=s.shift(),r=e.shift(),t.when(r[n].apply(r,s)).then(function(){return a._chain(e,n,i,o)})},_onWindowResize:function(t){var e=t.data.self;null!=e._resizeTimeout&&clearTimeout(e._resizeTimeout),e._resizeTimeout=setTimeout(function(){e._resizeTimeout=null,e.raise("resize").isDefaultPrevented()||e.breakpoints.check()},300)}}),e.RequestData=e.Class.extend({ctor:function(){}}),e.ResponseData=e.Class.extend({ctor:function(){}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Defaults.prototype.columns={},e.Defaults.prototype.parsers={text:function(e){return e=t(e),e.data("value")||t.trim(e.text())},number:function(e){e=t(e);var n=parseFloat(e.data("value")||e.text().replace(/[^0-9.\-]/g,""));return isNaN(n)?0:n}},e.Columns=e.Component.extend({ctor:function(t){this.o=t.options,this.array=[],this._super(t)},init:function(t,e){0==this.ft.$table.children("thead").length&&this.ft.$table.prepend("<thead/>");var n=this.ft.$table.children("thead").children("tr").not(".footable-filtering,.footable-paging").last().get(0);this.array=n instanceof HTMLTableRowElement?this.fromDOM(n):this.fromJSON(e.columns),this._generateCSS(),this.ft.raise("columns_init",[this.array])},reinit:function(t){0==this.ft.$table.children("thead").length&&this.ft.$table.prepend("<thead/>");var e=this.ft.$table.children("thead").children("tr").not(".footable-filtering,.footable-paging").last().get(0);this.array=e instanceof HTMLTableRowElement?this.fromDOM(e):this.fromJSON(t.columns),this._generateCSS(),this.ft.raise("columns_reinit",[this.array])},predraw:function(){var n=this;t.each(n.array,function(t,i){i.hidden=e.strings.contains(i.hide,n.ft.breakpoints.current)||e.strings.contains(i.hide,"all")})},postdraw:function(){var e=this;t.each(e.array,function(t,n){e.toggle(n.index,!n.hidden)})},fromDOM:function(n){var i=this,o=[];t(n).addClass("footable-header");for(var r,a,s,l=0,c=n.cells.length;c>l;l++)r=t(n.cells[l]),s=t.extend(!0,{title:r.text()},i.o.columns[l]||{},r.data(),{index:l}),s.sorter=i.o.sorters[s.type]||i.o.sorters.text,s.parser=i.o.parsers[s.type]||i.o.parsers.text,a=new e.Column(i.ft,r,s),o.push(a);return o},fromJSON:function(n){var i,o,r=this,a=[],s=t("<tr/>",{"class":"footable-header"});for(var l in n)if(n.hasOwnProperty(l)){if(l=parseInt(l),isNaN(l))continue;o=t.extend(!0,{title:n[l].title||n[l].name&&n[l].name.replace(/(.)([A-Z])/,"$1 $2").replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})||l},n[l],{index:l}),o.sorter=r.o.sorters[o.type]||r.o.sorters.text,o.parser=r.o.parsers[o.type]||r.o.parsers.text,i=new e.Column(r.ft,document.createElement("th"),o),i.$el.appendTo(s),a.push(i)}return r.ft.$table.children("thead").append(s),a},toggle:function(t,e){t=this.get(t),this.ft.$table.children("thead,tbody,tfoot").children("tr").not(".footable-detail-row,.footable-paging,.footable-filtering").each(function(n,i){t.index>=0&&t.index<i.cells.length&&(i.cells[t.index].style.display=e?"table-cell":"none")})},get:function(t){return t instanceof e.Column?t:e.is.type(t,"string")?this.first(function(e){return e.name==t}):e.is.type(t,"number")?this.first(function(e){return e.index==t}):null},map:function(t){var n=[],i=null;if(!e.is.fn(t))return n;for(var o=0,r=this.array.length;r>o;o++)null!=(i=t(this.array[o]))&&n.push(i);return n},first:function(t){t=t||function(){return!0};for(var e=0,n=this.array.length;n>e;e++)if(t(this.array[e]))return this.array[e];return null},last:function(t){t=t||function(){return!0};for(var e=this.array.length-1;e>=0;e--)if(t(this.array[e]))return this.array[e];return null},colspan:function(){var e=0;return t.each(this.array,function(t,n){n.hidden||e++}),e},any:function(t){var n=this;return t=t||function(){return n.array.length>0},n.first(t)instanceof e.Column},ensure:function(n){var i=this,o=[];return e.is.array(n)?(t.each(n,function(t,e){o.push(i.get(e))}),o):o},_generateCSS:function(){for(var t,n,i=0,o=this.array.length;o>i;i++)t=this.array[i],n=t.style||{},null!=t.minWidth&&(n.minWidth=t.minWidth),null!=t.width&&(n.width=t.width,n.maxWidth=t.width),null!=t.maxWidth&&(n.maxWidth=t.maxWidth),1==t.ellipsis&&(n.overflow="hidden",n.textOverflow="ellipsis",n.wordBreak="keep-all",n.whiteSpace="nowrap"),1==t.wrap&&(n.wordBreak="break-all",n.whiteSpace="normal"),this.ft.addCSSRule(this._generateCSSSelector(t.index),e.json2css(n))},_generateCSSSelector:function(t){if(document.all&&!document.addEventListener){var n,i=[],o=["table.footable-{0} > thead > tr > ","table.footable-{0} > tbody > tr > ","table.footable-{0} > tfoot > tr > "],r="td",a="th";for(n=0;t>n;n++)r+=" + td",a+=" + th";for(n=0;o.length>n;n++)i.push(e.strings.format(o[n],this.ft.id)+r),i.push(e.strings.format(o[n],this.ft.id)+a);return i.join(",")}var s="table.footable-{0} > thead > tr > td:nth-child({1}),table.footable-{0} > thead > tr > th:nth-child({1}),table.footable-{0} > tbody > tr > td:nth-child({1}),table.footable-{0} > tbody > tr > th:nth-child({1}),table.footable-{0} > tfoot > tr > td:nth-child({1}),table.footable-{0} > tfoot > tr > th:nth-child({1})";return e.strings.format(s,this.ft.id,t+1)}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Defaults.prototype.rows=[],e.Defaults.prototype.empty="No results",e.ResponseData.prototype.rows=[],e.Rows=e.Component.extend({ctor:function(t){this.o=t.options,this.array=[],this._array=[],this.$empty=null,this._super(t)},init:function(e,n){var i=this;i.$empty=t("<tr/>",{"class":"footable-empty"}).append(t("<td/>").text(n.empty)),0==i.ft.$table.children("tbody").length&&i.ft.$table.append("<tbody/>"),i.ft.$table.on("click.footable","> tbody > tr:has(td > span.footable-toggle)",{self:i},i._onToggleClicked),i._array=0==i.o.ajaxEnabled&&0==i.o.rows.length?i.fromDOM(i.ft.$table.children("tbody").get(0).rows):i.fromJSON(n.rows),i.ft.raise("rows_init",[i._array])},reinit:function(e){var n=this;n.$empty=t("<tr/>",{"class":"footable-empty"}).append(t("<td/>").text(e.empty)),0==n.ft.$table.children("tbody").length&&n.ft.$table.append("<tbody/>"),n.ft.$table.off("click.footable","> tbody > tr:has(td > span.footable-toggle)",n._onToggleClicked).on("click.footable","> tbody > tr:has(td > span.footable-toggle)",{self:n},n._onToggleClicked),n._array=0==n.o.ajaxEnabled&&0==n.o.rows.length?n.fromDOM(n.ft.$table.children("tbody").get(0).rows):n.fromJSON(e.rows),n.ft.raise("rows_reinit",[n._array])},fromDOM:function(t){var n,i,o,r=this,a=[];if(!t)return a;for(var s=0,l=t.length;l>s;s++){n=new e.Row(r.ft,t[s],r.ft.columns.array);for(var c=0,h=n.columns.length;h>c;c++)o=n.columns[c],i=new e.Cell(r.ft,n,t[s].cells[o.index],o,o.parser(t[s].cells[o.index])),n.cells.push(i);a.push(n)}return a},fromJSON:function(t){var n,i,o,r=this,a=[];if(!t)return a;for(var s=0,l=t.length;l>s;s++){n=new e.Row(r.ft,document.createElement("tr"),r.ft.columns.array);for(var c=0,h=n.columns.length;h>c;c++)o=n.columns[c],i=new e.Cell(r.ft,n,document.createElement("td"),o,t[s][o.name]),n.cells.push(i),n.$el.append(i.$el);a.push(n)}return a},postajax:function(t){this._array=this.fromJSON(t.rows)},predraw:function(){this.restore(),this.array=this._array.slice(0)},draw:function(){var e=this,n=e.ft.$table.children("tbody");e.$empty.detach(),n.find("> tr > td > span.footable-toggle").remove(),n.children("tr").detach();for(var i=0,o=e.array.length;o>i;i++)n.append(e.array[i].$el);if(0==e.array.length&&(e.$empty.children("td").attr("colspan",e.ft.columns.colspan()),n.append(e.$empty)),e.ft.columns.any(function(t){return t.hidden&&t.visible})){e.refresh();var r=(e.ft.columns.first(function(t){return!t.hidden&&t.visible})||{}).index;"number"==typeof r&&n.find("> tr > td:nth-child("+(r+1)+"):not(tr.footable-detail-row > td, tr.footable-loader > td)").prepend(t("<span/>",{"class":"footable-toggle glyphicon glyphicon-plus"}))}},restore:function(){var e,n,i=this;i.ft.$table.children("tbody").children("tr.footable-detail-row").each(function(){e=t(this),e.children("td").first().find(".footable-details > tbody > tr").each(function(e,i){n=t(i),n.data("footable_detail").$el.append(n.children("td").first().contents())}),e.remove()})},details:function(e){var n,i=t(e);return i.hasClass("footable-detail-show")&&(n=i.next(),n.is(".footable-detail-row"))?n:null},expand:function(e){var n=this,i=t(e).data("__FooTableRow__"),o=t.map(i.cells,function(t){return t.column.hidden&&t.column.visible?t:null});if(o.length>0){var r,a,s,l,c,h=t("<td/>",{colspan:n.ft.columns.colspan()}),u=t("<table/>",{"class":"footable-details table table-bordered table-condensed table-hover"}).appendTo(h),d=t("<tbody/>").appendTo(u);for(r=0,a=o.length;a>r;r++)s=t("<tr/>").data("footable_detail",o[r]).appendTo(d),l=t("<th/>",{text:o[r].column.title}).appendTo(s),c=t("<td/>").appendTo(s).append(o[r].$el.contents());i.$el.addClass("footable-detail-show").find("td > span.footable-toggle").removeClass("glyphicon-plus").addClass("glyphicon-minus"),t("<tr/>",{"class":"footable-detail-row"}).append(h).insertAfter(i.$el)}},collapse:function(e){var n,i=this,o=t(e).data("__FooTableRow__"),r=i.details(o.$el.get(0));null!=r&&(o.$el.removeClass("footable-detail-show").find("td > span.footable-toggle").removeClass("glyphicon-minus").addClass("glyphicon-plus"),r.children("td").first().find(".footable-details > tbody > tr").each(function(e,i){n=t(i),n.data("footable_detail").$el.append(n.children("td").first().contents())}),r.remove())},refresh:function(t){var n=this;e.is.undef(t)?n.ft.$table.children("tbody").children("tr.footable-detail-show").each(function(t,e){n.collapse(e),n.expand(e)}):(n.collapse(t),n.expand(t))},_onToggleClicked:function(e){var n=e.data.self;if(n.ft.columns.any(function(t){return t.hidden&&t.visible})&&t(e.target).is("tr,td,span.footable-toggle")){var i=t(this),o=i.hasClass("footable-detail-show");o?n.collapse(i.get(0)):n.expand(i.get(0))}}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Column.prototype.hide=null,e.Defaults.prototype.breakpoints=null,e.Defaults.prototype.useParentWidth=!1,e.Defaults.prototype.getWidth=null,e.Breakpoints=e.Component.extend({ctor:function(t){this.o=t.options,this.current=null,this.names="",this.array=[],this._previous=null,this._super(t)},ctor_column:function(t,n){t.hide=e.is.type(n.hide,"string")?n.hide:null},init:function(t,e){this._generate(e.breakpoints),this.current=this.calculate(),this.ft.raise("breakpoints_init")},reinit:function(t){this._generate(t.breakpoints),this.current=this.calculate(),this.ft.raise("breakpoints_reinit")},calculate:function(){for(var t,e=this,n=null,i=e.getWidth(),o=0,r=e.array.length;r>o;o++)if(t=e.array[o],t&&t.width&&t.width>=i){n=t;break}return null===n?"default":n.name},check:function(){var t=this;t.current=t.calculate(),t.current!=t._previous&&(t.ft.draw(),t._previous=t.current,t.ft.raise("breakpoints_changed",[t.current,t._previous]))},getWidth:function(){return e.is.fn(this.o.getWidth)?this.o.getWidth(this.ft):1==this.o.useParentWidth?this.ft.$table.parent().width():this.getViewportWidth()},getViewportWidth:function(){var t=e.is.defined(window.devicePixelRatio)&&e.isMobile?window.devicePixelRatio:1;return(window.innerWidth||(document.body?document.body.offsetWidth:0))/t},_generate:function(t){var n=this;null==t&&(t={phone:480,tablet:1024});for(var i in t)t.hasOwnProperty(i)&&(n.array.push(new e.Breakpoint(i,t[i])),n.names+=i+" ");n.array.sort(function(t,e){return t.width-e.width})}})}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Column.prototype.filterable=!0,e.Defaults.prototype.filtering={enabled:!1,query:null,columns:[],delay:500,min:3,strings:{placeholder:"Search"}},e.RequestData.prototype.filterQuery=null,e.RequestData.prototype.filterColumns=[],e.Filtering=e.Component.extend({ctor:function(t){this.o=t.options.filtering,this.$container=null,this.$dropdown_container=null,this.$dropdown=null,this.$search_input=null,this.$search_button=null,this._filterTimeout=null,this._changed=!1,this._super(t)},ctor_column:function(t,n){t.filterable=e.is.boolean(n.filterable)?n.filterable:!0},init:function(t,e){0!=e.filtering.enabled&&(this._generate(e),this.ft.raise("filtering_init"))},reinit:function(t){this.destroy(),0!=t.filtering.enabled&&(this._generate(t),this.ft.raise("filtering_reinit"))},destroy:function(){if(0!=this.o.enabled){var t=this.ft.$table.children("tfoot");t.children(".footable-filtering").remove(),0==t.children().length&&t.remove()}},preajax:function(e){0!=this.o.enabled&&(1==this._changed&&this.raiseChanging(),e.filterQuery=this.o.query,e.filterColumns=t.map(this.o.columns,function(t){return t.name}))},predraw:function(){if(0!=this.o.enabled&&1!=this.ft.options.ajaxEnabled){var t=this;if(1==t._changed&&t.raiseChanging(),!e.strings.isNullOrEmpty(t.o.query)){var n,i,o=t.ft.rows.array.length,r=[];for(n=0;o>n;n++){i="";for(var a,s=0;t.o.columns.length>s;s++)a=t.o.columns[s],i+=" "+t.ft.rows.array[n].cells[a.index].display;t.isFiltered(t.o.query,i)&&r.push(n)}for(r.sort(function(t,e){return t-e}),o=r.length-1,n=o;n>=0;n--)t.ft.rows.array.splice(r[n],1)}}},draw:function(){if(0!=this.o.enabled){var t=this;t.$container.children("td").first().attr("colspan",t.ft.columns.colspan()),e.strings.isNullOrEmpty(t.o.query)?t.$search_button.children(".glyphicon").removeClass("glyphicon-remove").addClass("glyphicon-search"):t.$search_button.children(".glyphicon").removeClass("glyphicon-search").addClass("glyphicon-remove"),t.$search_input.val(t.o.query)}},postdraw:function(){0!=this.o.enabled&&(1==this._changed&&this.raiseChanged(),this._changed=!1)},isFiltered:function(t,e){for(var n=t.split(" "),i=n.length,o=0,r=n.length;r>o;o++)e.toUpperCase().indexOf(n[o].toUpperCase())>=0&&i--;return i>0},raiseChanging:function(){var t=new e.Filter(this.o.query,this.o.columns);this.ft.raise("filtering_changing",[t]).isDefaultPrevented()||(this.o.query=t.query,this.o.columns=e.is.array(t.columns)?this.ft.columns.ensure(t.columns):this.columns())},raiseChanged:function(){this.ft.raise("filtering_changed",[new e.Filter(this.o.query,this.o.columns)])},filter:function(t,n){return this.o.query=t,this.o.columns=e.is.array(n)?this.ft.columns.ensure(n):this.columns(),this._changed=!0,this.ft.update()},clear:function(){return this.filter(null,[])},columns:function(n){var i="input:checked";return e.is.defined(n)&&n===!0&&(i="input[type=checkbox]"),this.$dropdown.find(i).map(function(){return t(this).data("footable_column")}).get()},query:function(){return t.trim(this.$search_input.val()||"")},_generate:function(e){var n=this;e.filtering.columns=n.ft.columns.ensure(e.filtering.columns),0==e.filtering.columns.length&&(e.filtering.columns=n.ft.columns.map(function(t){return t.filterable?t:null})),0==n.ft.$table.children("thead").length&&n.ft.$table.prepend("<thead/>");var i=t("<th/>").attr("colspan",n.ft.columns.colspan());n.$container=t("<tr/>",{"class":"footable-filtering"}).append(i).prependTo(n.ft.$table.children("thead")),t("<div/>",{"class":"input-group"}).append(n.$search_input=t("<input/>",{type:"text","class":"form-control",placeholder:e.filtering.strings.placeholder}).on("keyup",{self:n},n._onFilterChanged),n.$dropdown_container=t("<div/>",{"class":"input-group-btn"}).append(n.$search_button=t("<button/>",{type:"button","class":"btn btn-primary"}).on("click",{self:n},n._onFilterClicked).append(t("<span/>",{"class":"glyphicon glyphicon-search"})),t("<button/>",{type:"button","class":"btn btn-default dropdown-toggle"}).on("click",{self:n},n._onDropdownClicked).append(t("<span/>",{"class":"caret"})),n.$dropdown=t("<ul/>",{"class":"dropdown-menu dropdown-menu-right"}).append(n.ft.columns.map(function(i){return i.filterable&&i.visible?t("<li/>").append(t("<label/>",{text:i.title}).prepend(t("<input/>",{type:"checkbox",checked:t.inArray(e.filtering.columns,i)}).on("click",{self:n},n._onColumnClicked).data("footable_column",i))):null})))).appendTo(i)},_onFilterChanged:function(t){t.preventDefault();var n=t.data.self;null!=n._filterTimeout&&clearTimeout(n._filterTimeout);var i=n.query(),o=String.fromCharCode(t.keyCode).match(/\w/),r=8==t.keyCode||46==t.keyCode;(o||r)&&(n._filterTimeout=setTimeout(function(){n._filterTimeout=null,i.length>=n.o.min?n.filter(i,n.columns()):e.strings.isNullOrEmpty(i)&&n.clear()},n.o.delay))},_onFilterClicked:function(t){t.preventDefault();var e=t.data.self;null!=e._filterTimeout&&clearTimeout(e._filterTimeout),e.$search_button.children(".glyphicon").hasClass("glyphicon-search")?e.filter(e.query(),e.columns()):e.clear()},_onColumnClicked:function(t){var e=t.data.self;null!=e._filterTimeout&&clearTimeout(e._filterTimeout),e._filterTimeout=setTimeout(function(){e._filterTimeout=null;var t=e.$search_button.children(".glyphicon");t.hasClass("glyphicon-remove")&&(t.removeClass("glyphicon-remove").addClass("glyphicon-search"),e.filter(e.query(),e.columns()))},e.o.delay)},_onDropdownClicked:function(e){e.preventDefault(),e.stopPropagation();var n=e.data.self;n.$dropdown_container.toggleClass("open"),n.$dropdown_container.hasClass("open")?t(document).on("click.footable",{self:n},n._onDocumentClicked):t(document).off("click.footable",n._onDocumentClicked)},_onDocumentClicked:function(e){if(0==t(e.target).closest(".dropdown-menu").length){e.preventDefault();var n=e.data.self;n.$dropdown_container.removeClass("open"),t(document).off("click.footable",n._onDocumentClicked)}}}),e.Instance.prototype.applyFilter=function(t,n){return this.use(e.Filtering).filter(t,n)},e.Instance.prototype.clearFilter=function(){return this.use(e.Filtering).clear()}}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Defaults.prototype.paging={enabled:!1,current:1,total:-1,size:10,strings:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;"},limit:{size:5,prev:"...",next:"..."}},e.RequestData.prototype.currentPage=1,e.RequestData.prototype.pageSize=10,e.ResponseData.prototype.totalRows=null,e.Paging=e.Component.extend({ctor:function(t){this.o=t.options.paging,this.$container=null,this.$pagination=null,this.$count=null,this._forward=!1,this._super(t)
},init:function(t,e){0!=this.o.enabled&&(this._generate(e),this.ft.raise("paging_init"))},reinit:function(t,e){this.destroy(),0!=this.o.enabled&&(this._generate(e),this.ft.raise("paging_reinit"))},destroy:function(){if(0!=this.o.enabled){var t=this.ft.$table.children("tfoot");t.children(".footable-paging").remove(),0==t.children().length&&t.remove()}},preajax:function(t){0!=this.o.enabled&&(1==this._changed&&this.raiseChanging(),t.currentPage=this.o.current,t.pageSize=this.o.size)},postajax:function(t){0!=this.o.enabled&&(this.o.total=e.is.type(t.totalRows,"number")?t.totalRows:this.o.total,this.o.current=this.current())},predraw:function(){if(0!=this.o.enabled&&1!=this.ft.options.ajaxEnabled){var t=this;1==t._changed&&t.raiseChanging(),t.o.total=0==t.ft.rows.array.length?1:t.ft.rows.array.length,t.o.current=t.current();var e=(t.o.current-1)*t.o.size;t.o.total>t.o.size&&(t.ft.rows.array=t.ft.rows.array.splice(e,t.o.size))}},draw:function(){0!=this.o.enabled&&(this.$container.children("td").first().attr("colspan",this.ft.columns.colspan()),this._generateLinks())},postdraw:function(){0!=this.o.enabled&&(1==this._changed&&this.raiseChanged(),this._changed=!1)},raiseChanging:function(){var n=new e.Pager(this.current(),this._forward);return 1==this._changed&&this.ft.raise("paging_changing",[n]).isDefaultPrevented()?t.when():(this.o.current=n.page,this._forward=n.forward,void 0)},raiseChanged:function(){this.ft.raise("paging_changed",[new e.Pager(this.current(),this._forward)])},total:function(){return Math.ceil(this.o.total/this.o.size)},current:function(){var t=this.o.current*this.o.size>this.o.total?this.total():this.o.current;return 1>t?1:t},first:function(){return this._set(1,!1)},prev:function(){var t=this.o.current-1>0?this.o.current-1:1;return this._set(t,!1)},next:function(){var t=this.total(),e=t>this.o.current+1?this.o.current+1:t;return this._set(e,!0)},last:function(){return this._set(this.total(),!0)},"goto":function(e){var n=this.total();if(e=e>n?n:e,this.o.current==e)return t.when();var i=e>this.o.current;return this._set(e,i)},prevX:function(){var t=this.$pagination.children("li.footable-page.visible:first").data("page")-1;this._setVisible(t,!1,!0),this._setNavigation(!1)},nextX:function(){var t=this.$pagination.children("li.footable-page.visible:last").data("page")+1;this._setVisible(t,!1,!1),this._setNavigation(!1)},_set:function(t,e){return this.o.current!=t?(this.o.current=t,this._forward=e,this._changed=!0,this.ft.update()):void 0},_generate:function(e){e.paging.total=-1==e.paging.total?this.ft.rows.array.length:e.paging.total,0==this.ft.$table.children("tfoot").length&&this.ft.$table.append("<tfoot/>");var n=t("<td/>").attr("colspan",this.ft.columns.colspan());this.$pagination=t("<ul/>",{"class":"pagination"}).on("click.footable","a.footable-page-link",{self:this},this._onPageClicked),this.$count=t("<span/>",{"class":"label label-default"}),this._generateLinks(),n.append(this.$pagination,t("<div/>",{"class":"divider"}),this.$count),this.$container=t("<tr/>",{"class":"footable-paging"}).append(n).appendTo(this.ft.$table.children("tfoot"))},_generateLinks:function(){var t=this.total(),e=t>1,n=this.$pagination.children("li.footable-page").length!=t;if(0==t||1==t)return this.$pagination.empty(),this.$count.text(t+" of "+t),void 0;if(!n&&this.$pagination.children('li.footable-page[data-page="'+this.o.current+'"]').hasClass("visible"))return this._setNavigation(!0),void 0;this.$pagination.empty(),e&&this.$pagination.append(this._createLink("first",this.o.strings.first,"footable-page-nav")),e&&this.$pagination.append(this._createLink("prev",this.o.strings.prev,"footable-page-nav")),e&&this.o.limit.size>0&&t>this.o.limit.size&&this.$pagination.append(this._createLink("prev-limit",this.o.limit.prev,"footable-page-nav"));for(var i,o=0;t>o;o++)i=this._createLink(o+1,o+1,"footable-page"),this.$pagination.append(i);e&&this.o.limit.size>0&&t>this.o.limit.size&&this.$pagination.append(this._createLink("next-limit",this.o.limit.next,"footable-page-nav")),e&&this.$pagination.append(this._createLink("next",this.o.strings.next,"footable-page-nav")),e&&this.$pagination.append(this._createLink("last",this.o.strings.last,"footable-page-nav")),this._setVisible(this.o.current=this.o.current>t?0==t?1:t:this.o.current,this._forward),this._setNavigation(!0)},_createLink:function(e,n,i){return t("<li/>",{"class":i}).attr("data-page",e).append(t("<a/>",{"class":"footable-page-link",href:"#"}).data("page",e).html(n))},_setNavigation:function(t){var e=this.total();this.$count.text(this.o.current+" of "+e),1==this.o.current?this.$pagination.children('li[data-page="first"],li[data-page="prev"]').addClass("disabled"):this.$pagination.children('li[data-page="first"],li[data-page="prev"]').removeClass("disabled"),this.o.current==e?this.$pagination.children('li[data-page="next"],li[data-page="last"]').addClass("disabled"):this.$pagination.children('li[data-page="next"],li[data-page="last"]').removeClass("disabled"),1==(this.$pagination.children("li.footable-page.visible:first").data("page")||1)?this.$pagination.children('li[data-page="prev-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="prev-limit"]').removeClass("disabled"),(this.$pagination.children("li.footable-page.visible:last").data("page")||this.o.limit.size)==e?this.$pagination.children('li[data-page="next-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="next-limit"]').removeClass("disabled"),t&&this.$pagination.children("li.footable-page").removeClass("active").filter('li[data-page="'+this.o.current+'"]').addClass("active")},_setVisible:function(t,e,n){if(!this.$pagination.children('li.footable-page[data-page="'+t+'"]').hasClass("visible")){var i=this.total();if(this.o.limit.size>0&&i>this.o.limit.size){t-=1;var o=0,r=0;1==e||1==n?(r=t>i?i:t,o=r-this.o.limit.size):(o=0>t?0:t,r=o+this.o.limit.size),0>o&&(o=0,r=this.o.limit.size>i?i:this.o.limit.size),r>i&&(r=i,o=0>i-this.o.limit.size?0:i-this.o.limit.size),1==e&&(o++,r++),this.$pagination.children("li.footable-page").removeClass("visible").slice(o,r).addClass("visible")}else this.$pagination.children("li.footable-page").addClass("visible")}},_onPageClicked:function(e){if(e.preventDefault(),!t(e.target).closest("li").is(".active,.disabled")){var n=e.data.self,i=t(this).data("page");switch(i){case"first":return n.first(),void 0;case"prev":return n.prev(),void 0;case"next":return n.next(),void 0;case"last":return n.last(),void 0;case"prev-limit":return n.prevX(),void 0;case"next-limit":return n.nextX(),void 0;default:return n._set(i,!1),void 0}}}}),e.Instance.prototype.gotoPage=function(t){return this.use(e.Paging).goto(t)},e.Instance.prototype.nextPage=function(){return this.use(e.Paging).next()},e.Instance.prototype.prevPage=function(){return this.use(e.Paging).prev()},e.Instance.prototype.firstPage=function(){return this.use(e.Paging).first()},e.Instance.prototype.lastPage=function(){return this.use(e.Paging).last()},e.Instance.prototype.nextPages=function(){return this.use(e.Paging).nextX()},e.Instance.prototype.prevPages=function(){return this.use(e.Paging).prevX()},e.Instance.prototype.currentPage=function(){return this.use(e.Paging).current()},e.Instance.prototype.totalPages=function(){return this.use(e.Paging).total()}}(jQuery,FooTable=window.FooTable||{}),function(t,e){e.Column.prototype.sorter=null,e.Column.prototype.direction=null,e.Column.prototype.sortable=!0,e.Column.prototype.sorted=!1,e.Defaults.prototype.sorting={enabled:!1,column:null,direction:null},e.Defaults.prototype.sorters={text:function(t,e){return"string"==typeof t&&(t=t.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),t===e?0:e>t?-1:1},number:function(t,e){return t-e}},e.RequestData.prototype.sortColumn=null,e.RequestData.prototype.sortDirection=null,e.Sorting=e.Component.extend({ctor:function(t){this.o=t.options.sorting,this._changed=!1,this._super(t)},ctor_column:function(n,i){n.sorter=e.is.fn(i.sorter)?i.sorter:t.noop,n.direction=e.is.type(i.direction,"string")?i.direction:null,n.sortable=e.is.boolean(i.sortable)?i.sortable:!0,n.sorted=e.is.boolean(i.sorted)?i.sorted:!1,n.sortable&&n.$el.addClass("footable-sortable")},init:function(t,e){0!=this.o.enabled&&(this._generate(e),this.ft.raise("sorting_init"))},reinit:function(t,e){this.destroy(),0!=this.o.enabled&&(this._generate(e),this.ft.raise("sorting_reinit"))},destroy:function(){0!=this.o.enabled&&(this.ft.$table.off("click.footable",".footable-sortable",this._onSortClicked),this.ft.$table.children("thead").children("tr.footable-header").children(".footable-sortable").removeClass("footable-sortable").find("span.direction").remove())},preajax:function(t){0!=this.o.enabled&&(1==this._changed&&this.raiseChanging(),t.sortColumn=this.o.column.name,t.sortDirection=this.o.direction)},predraw:function(){if(0!=this.o.enabled&&1!=this.ft.options.ajaxEnabled){var t=this;1==t._changed&&t.raiseChanging(),t.o.column&&t.o.direction&&t.ft.rows.array.sort(function(e,n){return"ASC"==t.o.direction?t.o.column.sorter(e.cells[t.o.column.index].value,n.cells[t.o.column.index].value):t.o.column.sorter(n.cells[t.o.column.index].value,e.cells[t.o.column.index].value)})}},draw:function(){if(0!=this.o.enabled&&this.o.column&&this.o.direction){var t=this,e=t.ft.$table.children("thead").children("tr.footable-header").children(".footable-sortable"),n=t.o.column.$el;e.removeClass("footable-asc footable-desc").children(".glyphicon").removeClass("glyphicon-sort glyphicon-sort-by-attributes glyphicon-sort-by-attributes-alt"),e.not(n).children(".glyphicon").addClass("glyphicon-sort"),n.addClass("ASC"==t.o.direction?"footable-asc":"footable-desc").children(".glyphicon").addClass("ASC"==t.o.direction?"glyphicon-sort-by-attributes":"glyphicon-sort-by-attributes-alt")}},postdraw:function(){0!=this.o.enabled&&(1==this._changed&&this.raiseChanged(),this._changed=!1)},raiseChanging:function(){var n=new e.Sorter(this.o.column,this.o.direction);return 1==this._changed&&this.ft.raise("sorting_changing",[n]).isDefaultPrevented()?t.when():(this.o.column=this.ft.columns.get(n.column),this.o.direction=!e.is.type(n.direction,"string")||"ASC"!=n.direction&&"DESC"!=n.direction?"ASC":n.direction,void 0)},raiseChanged:function(){this.ft.raise("sorting_changed",[new e.Sorter(this.o.column,this.o.direction)])},sort:function(t,n){var i=this;return i.o.column=i.ft.columns.get(t),i.o.direction=!e.is.type(n,"string")||"ASC"!=n&&"DESC"!=n?"ASC":n,i._changed=!0,this.ft.update()},_generate:function(e){var n=this;e.sorting.column=n.ft.columns.get(e.sorting.column)||n.ft.columns.first(function(t){return t.sorted}),e.sorting.direction=null==e.sorting.column?null:null==e.sorting.direction?null==e.sorting.column.direction?"ASC":e.sorting.column.direction:e.sorting.direction,n.ft.$table.addClass("footable-sorting").children("thead").children("tr.footable-header").children("th,td").filter(function(t){return 1==n.ft.columns.array[t].sortable}).append(t("<span/>",{"class":"glyphicon glyphicon-sort"})),n.ft.$table.on("click.footable",".footable-sortable",{self:n},n._onSortClicked)},_onSortClicked:function(e){e.preventDefault();var n=e.data.self,i=t(this).closest("th,td"),o=i.is(".footable-asc, .footable-desc")?i.hasClass("footable-desc")?"ASC":"DESC":"ASC";n.sort(i.index(),o)}}),e.Instance.prototype.sort=function(t,n){return this.use(e.Sorting).sort(t,n)}}(jQuery,FooTable=window.FooTable||{});